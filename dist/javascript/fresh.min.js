function initSnowCanvas(a){function b(c,d,e){function f(){k.clearRect(0,0,c.width,c.height);for(var a=0;l>a;a++){var b=j[a],d=m,e=n,h=100,o=b.x,p=b.y,q=Math.sqrt((o-d)*(o-d)+(p-e)*(p-e));if(h>q){var r=h/(q*q),s=(d-o)/q,t=(e-p)/q,u=r/2;b.velX-=u*s,b.velY-=u*t}else switch(b.velX*=.98,b.velY<=b.speed&&(b.velY=b.speed),i.windPower){case!1:b.velX+=Math.cos(b.step+=.05)*b.stepSize;break;case 0:b.velX+=Math.cos(b.step+=.05)*b.stepSize;break;default:b.velX+=.01+i.windPower/100}var v=i.color,w=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})$/,x=w.exec(v),y=parseInt(x[1],16)+","+parseInt(x[2],16)+","+parseInt(x[3],16);b.y+=b.velY,b.x+=b.velX,(b.y>=c.height||b.y<=0)&&g(b),(b.x>=c.width||b.x<=0)&&g(b),i.image===!1&&(k.fillStyle="rgba("+y+","+b.opacity+")",k.beginPath(),k.arc(b.x,b.y,b.size,0,2*Math.PI),k.fill())}requestAnimationFrame(f)}function g(a){if(i.windPower===!1||0===i.windPower)a.x=Math.floor(Math.random()*c.width),a.y=0;else{var b,d,e,f;i.windPower>0?(b=Array(Math.floor(Math.random()*c.width),0),d=Array(0,Math.floor(Math.random()*c.height)),e=Array(b,d),f=e[Math.floor(Math.random()*e.length)],a.x=f[0],a.y=f[1]):(b=Array(Math.floor(Math.random()*c.width),0),d=Array(c.width,Math.floor(Math.random()*c.height)),e=Array(b,d),f=e[Math.floor(Math.random()*e.length)],a.x=f[0],a.y=f[1])}a.size=3*Math.random()+i.size,a.speed=1*Math.random()+i.speed,a.velY=a.speed,a.velX=0,a.opacity=.5*Math.random()+i.opacity}function h(){for(var a=0;l>a;a++){var b=Math.floor(Math.random()*c.width),d=Math.floor(Math.random()*c.height),e=3*Math.random()+i.size,g=1*Math.random()+i.speed,h=.5*Math.random()+i.opacity;j.push({speed:g,velY:g,velX:0,x:b,y:d,size:e,stepSize:Math.random()/30,step:0,angle:180,opacity:h})}f()}var i=d,j=[],k=c.getContext("2d"),l=i.count,m=-100,n=-100;if(c.width=a.innerWidth,c.height=a.innerHeight,e!==!0&&!function(){var b=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame||function(b){a.setTimeout(b,1e3/60)};a.requestAnimationFrame=b}(),h(),e!==!0){var o=null;a.addEventListener("resize",function(a){o&&clearTimeout(o),o=setTimeout(function(){b(c,i,!0)},200)})}e!==!0&&i.interaction===!0&&c.addEventListener("mousemove",function(a){m=a.clientX,n=a.clientY})}var c=document.getElementById("snow-canvas");b(c,{speed:0,interaction:!0,size:2,count:200,opacity:0,color:"#ffffff",windPower:0,image:!1})}function initWinterJam2015(a){function b(){var a=new Date,b=Math.floor(l-a),c=b/1e3|0;b-=1e3*c;var d=c/60|0;c-=60*d;var e=d/60|0;d-=60*e;var j=e/24|0,k=e-24*j;f.textContent=j,g.textContent=k,h.textContent=d,i.textContent=c}function c(){m.css("display","block")}function d(){m.css("display","none")}for(var e=a.document.getElementById("jam-time-remaining"),f=null,g=null,h=null,i=null,j=0;j<e.childNodes.length;j++){var k=e.childNodes[j];switch(k.className){case"jam-days":f=k;break;case"jam-hours":g=k;break;case"jam-minutes":h=k;break;case"jam-seconds":i=k}}var l=new Date("2016-01-01T00:00:00.0-07:00");b(),setInterval(b,1e3),$(".join-jam-button").click(c);var m=$(".join-jam-modal"),n=m.find(".modal-content");m.click(d),n.css("top",a.innerHeight/2-n.height()/2),n.css("left",a.innerWidth/2-n.width()/2)}